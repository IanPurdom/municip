console.log("id-pr-<%=@program.id%>");
console.log("id-pr-<%=@answer.id%>");

console.log("<%= raw @program.content%>");


var updateFormDetails = (()=>{
  var form = document.querySelector(".form-pr");
  form.classList.remove("form-pr");
  form.classList.add("form-pr-<%=@program.id%>");

  var pr = document.querySelector(".pr");
  form.classList.remove("pr");
  form.classList.add("pr-<%=@program.id%>");

  var btn = document.getElementById("btn-pr");
  btn.removeAttribute("id");
  btn.id = ("btn-pr-<%= raw @program.id %>");

  // var btn2 = document.getElementById("id-pr");
  // btn2.removeAttribute("id");
  // btn.id2 = ("id-pr-<%= raw @program.id %>");

  var upd = document.querySelector(".upd-pr");
  upd.classList.remove("upd-pr");
  upd.classList.add("upd-pr-<%=@program.id%>");

  var input = document.createElement("input");
  setAttributes(input, {"type": "hidden", "name":"_method", "value": "patch"})
  form.appendChild(input);

});



var removeButton = (()=> {
  var button = document.getElementById("id-pr-<%=@answer.id%>")
  console.log(button)
  button.parentNode.removeChild(button);
});



var addProgram = (() => {
  var p = document.createElement("p");
  p.appendChild(document.createTextNode("<%= raw @program.content%>"));
  setAttributes(p, {"id": "id-pr-<%=@program.id%>", "class": "pr-<%=@program.id%>", "onClick": "toggleQ(this.className)" })
  var upd = document.querySelector(".upd-pr-<%=@program.id%>")
  upd.appendChild(p)
});


function setAttributes(el, attrs) {
  for(var key in attrs) {
    el.setAttribute(key, attrs[key]);
  }
};




updateFormDetails();
removeButton();
addProgram()
